<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClaimReceipts - Holding Predictions Accountable</title>
    <meta name="description" content="Track bold claims, predictions, and promises from CEOs, leaders, and organizations. See who tells the truth and who's just talking.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        /* Light Mode (Default) */
        :root {
            --bg-primary: #f8f9fc;
            --bg-secondary: #ffffff;
            --bg-card: #ffffff;
            --bg-card-hover: #f3f4f8;
            --text-primary: #1a1a2e;
            --text-secondary: #4a4a5a;
            --text-muted: #7a7a8a;
            --accent-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --accent-primary: #667eea;
            --accent-secondary: #764ba2;
            --status-true: #059669;
            --status-false: #dc2626;
            --status-pending: #d97706;
            --status-expired: #6b7280;
            --border-color: #e2e4ea;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --hero-text: #ffffff;
        }

        /* Dark Mode */
        [data-theme="dark"] {
            --bg-primary: #0a0a0f;
            --bg-secondary: #12121a;
            --bg-card: #1a1a24;
            --bg-card-hover: #22222e;
            --text-primary: #ffffff;
            --text-secondary: #a0a0b0;
            --text-muted: #6a6a7a;
            --accent-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --accent-primary: #667eea;
            --accent-secondary: #764ba2;
            --status-true: #10b981;
            --status-false: #ef4444;
            --status-pending: #f59e0b;
            --status-expired: #6b7280;
            --border-color: #2a2a3a;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4);
            --hero-text: #ffffff;
        }

        /* System preference detection */
        @media (prefers-color-scheme: dark) {
            :root:not([data-theme="light"]) {
                --bg-primary: #0a0a0f;
                --bg-secondary: #12121a;
                --bg-card: #1a1a24;
                --bg-card-hover: #22222e;
                --text-primary: #ffffff;
                --text-secondary: #a0a0b0;
                --text-muted: #6a6a7a;
                --status-true: #10b981;
                --status-false: #ef4444;
                --status-pending: #f59e0b;
                --status-expired: #6b7280;
                --border-color: #2a2a3a;
                --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
                --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4);
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Smooth theme transition */
        html {
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        html.theme-transition,
        html.theme-transition *,
        html.theme-transition *::before,
        html.theme-transition *::after {
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease !important;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Header */
        .header {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 1.5rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .logo-icon {
            font-size: 2rem;
        }

        .logo-text {
            font-size: 1.5rem;
            font-weight: 800;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tagline {
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        /* Theme Toggle */
        .theme-toggle {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 50px;
            padding: 0.375rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .theme-toggle:hover {
            border-color: var(--accent-primary);
        }

        .theme-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: none;
            background: transparent;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            color: var(--text-muted);
        }

        .theme-btn:hover {
            color: var(--text-primary);
        }

        .theme-btn.active {
            background: var(--accent-gradient);
            color: white;
            box-shadow: var(--shadow);
        }

        .theme-btn[data-theme="auto"].active {
            background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
        }

        /* Hero Section */
        .hero {
            background: var(--accent-gradient);
            padding: 4rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            opacity: 0.5;
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 1rem;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .hero p {
            font-size: 1.25rem;
            opacity: 0.95;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Stats Bar */
        .stats-bar {
            background: var(--bg-secondary);
            padding: 1.5rem 2rem;
            border-bottom: 1px solid var(--border-color);
        }

        .stats-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            gap: 3rem;
            flex-wrap: wrap;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 800;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Main Content */
        .main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Search & Filters */
        .controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .search-box {
            flex: 1;
            min-width: 250px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 0.875rem 1rem 0.875rem 3rem;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 1rem;
            transition: all 0.2s;
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        .search-box::before {
            content: 'üîç';
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1rem;
        }

        .filter-select {
            padding: 0.875rem 2.5rem 0.875rem 1rem;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 1rem;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23a0a0b0' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10l-5 5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            transition: all 0.2s;
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--accent-primary);
        }

        /* Hall of Shame */
        .hall-of-shame {
            background: var(--bg-card);
            border-radius: 16px;
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
            overflow: hidden;
        }

        .shame-toggle {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 1.5rem;
            background: transparent;
            border: none;
            cursor: pointer;
            color: var(--text-primary);
            font-family: inherit;
            transition: background 0.2s;
        }

        .shame-toggle:hover {
            background: var(--bg-card-hover);
        }

        .shame-toggle-left {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .shame-toggle-icon {
            font-size: 1.25rem;
            transition: transform 0.3s;
        }

        .hall-of-shame.expanded .shame-toggle-icon {
            transform: rotate(180deg);
        }

        .shame-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
            padding: 0 1.5rem;
        }

        .hall-of-shame.expanded .shame-content {
            max-height: 500px;
            padding: 0 1.5rem 1.5rem;
        }

        .shame-disclaimer {
            font-size: 0.75rem;
            color: var(--text-muted);
            font-style: italic;
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0;
        }

        .shame-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .shame-card {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 1rem;
            text-align: center;
            border: 1px solid var(--border-color);
            transition: all 0.2s;
        }

        .shame-card:hover {
            transform: translateY(-2px);
            border-color: var(--status-false);
        }

        .shame-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--bg-card);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin: 0 auto 0.75rem;
            border: 2px solid var(--status-false);
        }

        .shame-name {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .shame-score {
            color: var(--status-false);
            font-size: 0.875rem;
            font-weight: 600;
        }

        .shame-claims {
            color: var(--text-muted);
            font-size: 0.75rem;
        }

        /* Claims Table */
        .claims-container {
            background: var(--bg-card);
            border-radius: 16px;
            border: 1px solid var(--border-color);
            overflow: hidden;
        }

        .claims-header {
            display: grid;
            grid-template-columns: 180px 1fr 120px 140px 100px 100px;
            padding: 1rem 1.5rem;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            font-weight: 600;
            font-size: 0.875rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .claim-row {
            display: grid;
            grid-template-columns: 180px 1fr 120px 140px 100px 100px;
            padding: 1.25rem 1.5rem;
            border-bottom: 1px solid var(--border-color);
            align-items: center;
            transition: background 0.2s;
        }

        .claim-row:last-child {
            border-bottom: none;
        }

        .claim-row:hover {
            background: var(--bg-card-hover);
        }

        .claimant {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .claimant-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            flex-shrink: 0;
        }

        .claimant-info {
            min-width: 0;
        }

        .claimant-name {
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .claimant-org {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .claim-text {
            padding-right: 1rem;
        }

        .claim-quote {
            font-style: italic;
            color: var(--text-secondary);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .claim-category {
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            background: var(--bg-secondary);
            border-radius: 4px;
            color: var(--text-muted);
            width: fit-content;
            margin-top: 0.5rem;
        }

        .countdown {
            font-family: 'Inter', monospace;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .countdown.urgent {
            color: var(--status-false);
            animation: pulse 1s infinite;
        }

        .countdown.pending {
            color: var(--status-pending);
        }

        .countdown.expired {
            color: var(--text-muted);
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.375rem;
            padding: 0.375rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.025em;
        }

        .status-true {
            background: rgba(16, 185, 129, 0.15);
            color: var(--status-true);
        }

        .status-false {
            background: rgba(239, 68, 68, 0.15);
            color: var(--status-false);
        }

        .status-pending {
            background: rgba(245, 158, 11, 0.15);
            color: var(--status-pending);
        }

        .status-expired {
            background: rgba(107, 114, 128, 0.15);
            color: var(--status-expired);
        }

        .source-link {
            color: var(--accent-primary);
            text-decoration: none;
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            transition: color 0.2s;
        }

        .source-link:hover {
            color: var(--accent-secondary);
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .claims-header {
                display: none;
            }

            .claim-row {
                display: flex;
                flex-direction: column;
                gap: 1rem;
                padding: 1.5rem;
            }

            .claimant {
                width: 100%;
            }

            .claim-text {
                padding-right: 0;
            }

            .claim-row > div:not(.claimant):not(.claim-text) {
                display: flex;
                justify-content: space-between;
                align-items: center;
                width: 100%;
                padding-top: 0.5rem;
                border-top: 1px solid var(--border-color);
            }

            .claim-row > div:not(.claimant):not(.claim-text)::before {
                content: attr(data-label);
                font-size: 0.75rem;
                color: var(--text-muted);
                text-transform: uppercase;
            }
        }

        @media (max-width: 640px) {
            .hero h1 {
                font-size: 2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .stats-container {
                gap: 1.5rem;
            }

            .stat-value {
                font-size: 1.5rem;
            }

            .main {
                padding: 1rem;
            }

            .controls {
                flex-direction: column;
            }

            .filter-select {
                width: 100%;
            }
        }

        /* Footer */
        .footer {
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-color);
            padding: 2rem;
            text-align: center;
            margin-top: 4rem;
        }

        .footer p {
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        .footer a {
            color: var(--accent-primary);
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--text-secondary);
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        /* CTA Section */
        .cta-section {
            background: var(--accent-gradient);
            border-radius: 16px;
            padding: 3rem 2rem;
            text-align: center;
            margin-top: 2rem;
        }

        .cta-section h2 {
            font-size: 1.75rem;
            margin-bottom: 0.75rem;
        }

        .cta-section p {
            opacity: 0.9;
            margin-bottom: 1.5rem;
        }

        .cta-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: white;
            color: var(--accent-secondary);
            padding: 0.875rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            text-decoration: none;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            cursor: help;
        }

        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--bg-card);
            color: var(--text-primary);
            padding: 0.5rem 0.75rem;
            border-radius: 8px;
            font-size: 0.75rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.2s;
            border: 1px solid var(--border-color);
            z-index: 10;
        }

        .tooltip:hover::after {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <span class="logo-icon">üßæ</span>
                <div>
                    <div class="logo-text">ClaimReceipts</div>
                    <div class="tagline">Holding Predictions Accountable</div>
                </div>
            </div>
            <div class="theme-toggle" role="group" aria-label="Theme selector">
                <button class="theme-btn" data-theme="light" onclick="setTheme('light')" title="Light mode">
                    ‚òÄÔ∏è
                </button>
                <button class="theme-btn" data-theme="auto" onclick="setTheme('auto')" title="Auto (System/Time)">
                    üåì
                </button>
                <button class="theme-btn" data-theme="dark" onclick="setTheme('dark')" title="Dark mode">
                    üåô
                </button>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="hero-content">
            <h1>üéØ The Internet's Prediction Tracker</h1>
            <p>We track the bold claims, wild predictions, and confident promises from leaders and organizations. Because the internet never forgets.</p>
        </div>
    </section>

    <section class="stats-bar">
        <div class="stats-container">
            <div class="stat">
                <div class="stat-value" id="total-claims">0</div>
                <div class="stat-label">Claims Tracked</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="false-claims">0</div>
                <div class="stat-label">Proven False</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="pending-claims">0</div>
                <div class="stat-label">Still Pending</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="true-claims">0</div>
                <div class="stat-label">Actually True</div>
            </div>
        </div>
    </section>

    <main class="main">
        <div class="controls">
            <div class="search-box">
                <input type="text" id="search-input" placeholder="Search claims, people, or organizations...">
            </div>
            <select class="filter-select" id="status-filter">
                <option value="all">All Statuses</option>
                <option value="pending">‚è≥ Pending</option>
                <option value="false">üî¥ False</option>
                <option value="true">üü¢ True</option>
                <option value="expired">‚ö´ Expired</option>
            </select>
            <select class="filter-select" id="category-filter">
                <option value="all">All Categories</option>
                <option value="tech">üíª Tech</option>
                <option value="crypto">‚Çø Crypto</option>
                <option value="ai">ü§ñ AI</option>
                <option value="business">üíº Business</option>
                <option value="politics">üèõÔ∏è Politics</option>
            </select>
        </div>

        <section class="hall-of-shame" id="hall-of-shame">
            <button class="shame-toggle" onclick="toggleHallOfShame()">
                <div class="shame-toggle-left">
                    <h2 class="section-title">üî• Hall of Shame - Lowest Trust Scores</h2>
                </div>
                <span class="shame-toggle-icon">‚ñº</span>
            </button>
            <div class="shame-content">
                <p class="shame-disclaimer">‚ö†Ô∏è Early data - trust scores will become more meaningful as we track more claims.</p>
                <div class="shame-grid" id="shame-grid">
                    <!-- Populated by JS -->
                </div>
            </div>
        </section>

        <section class="claims-container">
            <div class="claims-header">
                <div>Person/Org</div>
                <div>Claim</div>
                <div>Deadline</div>
                <div>Countdown</div>
                <div>Status</div>
                <div>Source</div>
            </div>
            <div id="claims-list">
                <!-- Populated by JS -->
            </div>
        </section>

        <section class="cta-section">
            <h2>üì¢ Know a claim that should be tracked?</h2>
            <p>Help us hold leaders accountable. Submit claims with sources and we'll add them to the tracker.</p>
            <a href="mailto:submit@claimreceipts.com?subject=New Claim Submission" class="cta-button">
                <span>‚úâÔ∏è</span> Submit a Claim
            </a>
        </section>
    </main>

    <footer class="footer">
        <p>
            <strong>ClaimReceipts</strong> - Because accountability matters. 
            <br>
            Built for collective humanity. Data sourced from public statements and interviews.
            <br><br>
            <a href="#">About</a> ¬∑ <a href="#">FAQ</a> ¬∑ <a href="#">Submit Claim</a> ¬∑ <a href="#">API</a>
        </p>
    </footer>

    <script>
        // ============ THEME MANAGEMENT ============
        function getTimeBasedTheme() {
            const hour = new Date().getHours();
            // Dark mode from 7 PM to 7 AM
            return (hour >= 19 || hour < 7) ? 'dark' : 'light';
        }

        function applyTheme(theme) {
            const root = document.documentElement;
            
            if (theme === 'auto') {
                // Check system preference first
                const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                if (prefersDark) {
                    root.setAttribute('data-theme', 'dark');
                } else {
                    // Fall back to time-based
                    root.setAttribute('data-theme', getTimeBasedTheme());
                }
            } else {
                root.setAttribute('data-theme', theme);
            }
            
            // Update button states
            document.querySelectorAll('.theme-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.theme === theme);
            });
        }

        function setTheme(theme) {
            // Add transition class for smooth animation
            document.documentElement.classList.add('theme-transition');
            
            localStorage.setItem('claimreceipts-theme', theme);
            applyTheme(theme);
            
            // Remove transition class after animation completes
            setTimeout(() => {
                document.documentElement.classList.remove('theme-transition');
            }, 300);
        }

        function initTheme() {
            const savedTheme = localStorage.getItem('claimreceipts-theme') || 'auto';
            applyTheme(savedTheme);
            
            // Listen for system preference changes
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
                const currentTheme = localStorage.getItem('claimreceipts-theme') || 'auto';
                if (currentTheme === 'auto') {
                    applyTheme('auto');
                }
            });

            // Update time-based theme every hour if on auto
            setInterval(() => {
                const currentTheme = localStorage.getItem('claimreceipts-theme') || 'auto';
                if (currentTheme === 'auto') {
                    applyTheme('auto');
                }
            }, 60 * 60 * 1000); // Check every hour
        }

        // Initialize theme immediately (before DOMContentLoaded to prevent flash)
        initTheme();

        // ============ CLAIMS DATABASE ============
        const claimsData = [
            {
                id: 1,
                person: "Cathie Wood",
                organization: "ARK Invest",
                avatar: "üë©‚Äçüíº",
                claim: "Bitcoin will reach $1 million by 2030",
                category: "crypto",
                dateMade: "2024-01-01",
                deadline: "2030-12-31",
                status: "pending",
                sourceUrl: "https://www.cnbc.com/2024/01/11/cathie-wood-sees-more-than-1-million-bitcoin-by-2030.html",
                sourceLabel: "CNBC"
            },
            {
                id: 2,
                person: "Various Tech CEOs",
                organization: "Tech Industry",
                avatar: "ü§ñ",
                claim: "AI will replace most software developers within 6 months to a year",
                category: "ai",
                dateMade: "2023-03-01",
                deadline: "2024-03-01",
                status: "false",
                sourceUrl: "https://twitter.com",
                sourceLabel: "Various Sources",
                verdictNote: "Software engineering jobs are still thriving in 2025"
            },
            {
                id: 3,
                person: "Sam Altman",
                organization: "OpenAI",
                avatar: "üë®‚Äçüíª",
                claim: "AGI will be achieved within the next 5 years",
                category: "ai",
                dateMade: "2023-11-01",
                deadline: "2028-11-01",
                status: "pending",
                sourceUrl: "https://www.ft.com/content/dd9ba2f6-f509-4030-b7f7-c9b3e7b1c2e3",
                sourceLabel: "Financial Times"
            },
            {
                id: 4,
                person: "Elon Musk",
                organization: "Tesla",
                avatar: "üöÄ",
                claim: "Tesla will have full self-driving by end of 2020",
                category: "tech",
                dateMade: "2019-04-22",
                deadline: "2020-12-31",
                status: "false",
                sourceUrl: "https://www.theverge.com/2019/4/22/18510828/tesla-elon-musk-autonomy-day-investor-comments-self-driving-cars-robotaxis",
                sourceLabel: "The Verge",
                verdictNote: "Full self-driving still not achieved as of 2025"
            },
            {
                id: 5,
                person: "John McAfee",
                organization: "McAfee Corp",
                avatar: "üíÄ",
                claim: "Bitcoin will reach $1 million by end of 2020 or I will eat my own... on national TV",
                category: "crypto",
                dateMade: "2017-07-17",
                deadline: "2020-12-31",
                status: "false",
                sourceUrl: "https://twitter.com/officialmcafee/status/887024683379544065",
                sourceLabel: "Twitter",
                verdictNote: "Bitcoin ended 2020 at ~$29,000"
            },
            {
                id: 6,
                person: "Tim Draper",
                organization: "Draper Associates",
                avatar: "üí∞",
                claim: "Bitcoin will hit $250,000 by end of 2025",
                category: "crypto",
                dateMade: "2023-06-01",
                deadline: "2025-12-31",
                status: "pending",
                sourceUrl: "https://www.forbes.com/sites/billybambrough/2023/06/12/tim-draper-doubles-down-on-250000-bitcoin-price-prediction/",
                sourceLabel: "Forbes"
            },
            {
                id: 7,
                person: "Mark Zuckerberg",
                organization: "Meta",
                avatar: "üë§",
                claim: "The Metaverse will be the next major computing platform within 5-10 years",
                category: "tech",
                dateMade: "2021-10-28",
                deadline: "2031-10-28",
                status: "pending",
                sourceUrl: "https://about.fb.com/news/2021/10/founders-letter/",
                sourceLabel: "Meta Blog"
            },
            {
                id: 8,
                person: "Emad Mostaque",
                organization: "Stability AI",
                avatar: "üé®",
                claim: "There will be no programmers in 5 years",
                category: "ai",
                dateMade: "2023-06-01",
                deadline: "2028-06-01",
                status: "pending",
                sourceUrl: "https://www.businessinsider.com/stability-ai-ceo-developers-utilmate-utilty-ai-2023-6",
                sourceLabel: "Business Insider"
            },
            {
                id: 9,
                person: "Elizabeth Holmes",
                organization: "Theranos",
                avatar: "ü©∏",
                claim: "Theranos can run hundreds of tests from a single drop of blood",
                category: "business",
                dateMade: "2014-01-01",
                deadline: "2015-12-31",
                status: "false",
                sourceUrl: "https://www.wsj.com/articles/theranos-has-struggled-with-blood-tests-1444881901",
                sourceLabel: "WSJ",
                verdictNote: "Proven to be fraudulent. Holmes convicted of fraud in 2022"
            },
            {
                id: 10,
                person: "Adam Neumann",
                organization: "WeWork",
                avatar: "üè¢",
                claim: "WeWork will become the first trillion-dollar company",
                category: "business",
                dateMade: "2019-01-01",
                deadline: "2029-01-01",
                status: "false",
                sourceUrl: "https://www.wsj.com/articles/this-is-not-the-way-everybody-behaves-how-adam-neumanns-over-the-top-style-built-wework-11568823827",
                sourceLabel: "WSJ",
                verdictNote: "WeWork filed for bankruptcy in 2023"
            },
            {
                id: 11,
                person: "Satya Nadella",
                organization: "Microsoft",
                avatar: "üíº",
                claim: "AI will augment and empower developers, not replace them",
                category: "ai",
                dateMade: "2023-03-16",
                deadline: "2026-03-16",
                status: "pending",
                sourceUrl: "https://blogs.microsoft.com/blog/2023/03/16/introducing-microsoft-365-copilot-your-copilot-for-work/",
                sourceLabel: "Microsoft Blog"
            },
            {
                id: 12,
                person: "Anthony Pompliano",
                organization: "Pomp Investments",
                avatar: "üìà",
                claim: "Bitcoin to $100,000 by end of 2021",
                category: "crypto",
                dateMade: "2021-01-01",
                deadline: "2021-12-31",
                status: "false",
                sourceUrl: "https://twitter.com/APompliano",
                sourceLabel: "Twitter",
                verdictNote: "Bitcoin ended 2021 at ~$47,000"
            },
            {
                id: 13,
                person: "Do Kwon",
                organization: "Terraform Labs",
                avatar: "üåô",
                claim: "UST (TerraUSD) is the most decentralized and secure stablecoin",
                category: "crypto",
                dateMade: "2022-01-01",
                deadline: "2022-12-31",
                status: "false",
                sourceUrl: "https://twitter.com/staboracle",
                sourceLabel: "Twitter",
                verdictNote: "UST collapsed in May 2022, losing $40+ billion in value"
            },
            {
                id: 14,
                person: "Sam Bankman-Fried",
                organization: "FTX",
                avatar: "üè¶",
                claim: "FTX is the safest and most regulated crypto exchange",
                category: "crypto",
                dateMade: "2022-06-01",
                deadline: "2023-01-01",
                status: "false",
                sourceUrl: "https://www.nytimes.com/2022/11/14/technology/ftx-sam-bankman-fried-crypto-bankruptcy.html",
                sourceLabel: "NY Times",
                verdictNote: "FTX collapsed in Nov 2022. SBF convicted of fraud"
            },
            {
                id: 15,
                person: "Jensen Huang",
                organization: "NVIDIA",
                avatar: "üíö",
                claim: "The iPhone moment for AI has arrived",
                category: "ai",
                dateMade: "2023-05-29",
                deadline: "2025-12-31",
                status: "pending",
                sourceUrl: "https://www.cnbc.com/2023/05/30/nvidia-ceo-says-ai-is-at-an-iphone-moment.html",
                sourceLabel: "CNBC"
            }
        ];

        // Calculate trust scores for Hall of Shame
        function calculateTrustScores() {
            const personStats = {};
            
            claimsData.forEach(claim => {
                const key = claim.person;
                if (!personStats[key]) {
                    personStats[key] = {
                        name: claim.person,
                        org: claim.organization,
                        avatar: claim.avatar,
                        total: 0,
                        false: 0,
                        true: 0
                    };
                }
                personStats[key].total++;
                if (claim.status === 'false') personStats[key].false++;
                if (claim.status === 'true') personStats[key].true++;
            });

            return Object.values(personStats)
                .filter(p => p.total >= 1 && p.false > 0)
                .map(p => ({
                    ...p,
                    trustScore: Math.round(((p.total - p.false) / p.total) * 100)
                }))
                .sort((a, b) => a.trustScore - b.trustScore)
                .slice(0, 4);
        }

        // Render Hall of Shame
        function renderHallOfShame() {
            const shameGrid = document.getElementById('shame-grid');
            const worstOffenders = calculateTrustScores();
            
            if (worstOffenders.length === 0) {
                document.getElementById('hall-of-shame').style.display = 'none';
                return;
            }

            shameGrid.innerHTML = worstOffenders.map(person => `
                <div class="shame-card">
                    <div class="shame-avatar">${person.avatar}</div>
                    <div class="shame-name">${person.name}</div>
                    <div class="shame-score">${person.trustScore}% Trust Score</div>
                    <div class="shame-claims">${person.false}/${person.total} claims false</div>
                </div>
            `).join('');
        }

        // Toggle Hall of Shame
        function toggleHallOfShame() {
            const section = document.getElementById('hall-of-shame');
            section.classList.toggle('expanded');
        }

        // Calculate countdown
        function getCountdown(deadline, status) {
            if (status === 'true' || status === 'false') {
                return { text: status === 'true' ? '‚úÖ Verified' : '‚ùå Debunked', class: status };
            }

            const now = new Date();
            const end = new Date(deadline);
            const diff = end - now;

            if (diff <= 0) {
                return { text: '‚è∞ EXPIRED', class: 'expired' };
            }

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));

            if (days > 365) {
                const years = Math.floor(days / 365);
                return { text: `${years}y ${days % 365}d left`, class: 'pending' };
            } else if (days > 30) {
                return { text: `${days} days left`, class: 'pending' };
            } else if (days > 0) {
                return { text: `${days}d ${hours}h left`, class: 'urgent' };
            } else {
                return { text: `${hours} hours left`, class: 'urgent' };
            }
        }

        // Get status badge HTML
        function getStatusBadge(status) {
            const badges = {
                true: '<span class="status-badge status-true">üü¢ True</span>',
                false: '<span class="status-badge status-false">üî¥ False</span>',
                pending: '<span class="status-badge status-pending">‚è≥ Pending</span>',
                expired: '<span class="status-badge status-expired">‚ö´ Expired</span>'
            };
            return badges[status] || badges.pending;
        }

        // Format date
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return date.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'short', 
                day: 'numeric' 
            });
        }

        // Render claims
        function renderClaims(claims) {
            const claimsList = document.getElementById('claims-list');
            
            if (claims.length === 0) {
                claimsList.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üîç</div>
                        <p>No claims found matching your search.</p>
                    </div>
                `;
                return;
            }

            claimsList.innerHTML = claims.map(claim => {
                const countdown = getCountdown(claim.deadline, claim.status);
                const categoryEmojis = {
                    tech: 'üíª',
                    crypto: '‚Çø',
                    ai: 'ü§ñ',
                    business: 'üíº',
                    politics: 'üèõÔ∏è'
                };
                
                return `
                    <div class="claim-row" data-status="${claim.status}" data-category="${claim.category}">
                        <div class="claimant">
                            <div class="claimant-avatar">${claim.avatar}</div>
                            <div class="claimant-info">
                                <div class="claimant-name">${claim.person}</div>
                                <div class="claimant-org">${claim.organization}</div>
                            </div>
                        </div>
                        <div class="claim-text">
                            <div class="claim-quote">"${claim.claim}"</div>
                            <div class="claim-category">${categoryEmojis[claim.category] || 'üìå'} ${claim.category.toUpperCase()}</div>
                        </div>
                        <div data-label="Deadline">
                            <span>${formatDate(claim.deadline)}</span>
                        </div>
                        <div data-label="Countdown">
                            <span class="countdown ${countdown.class}">${countdown.text}</span>
                        </div>
                        <div data-label="Status">
                            ${getStatusBadge(claim.status)}
                        </div>
                        <div data-label="Source">
                            <a href="${claim.sourceUrl}" target="_blank" rel="noopener" class="source-link">
                                ${claim.sourceLabel} ‚Üó
                            </a>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Update stats
        function updateStats(claims) {
            const total = claims.length;
            const falseClaims = claims.filter(c => c.status === 'false').length;
            const pending = claims.filter(c => c.status === 'pending').length;
            const trueClaims = claims.filter(c => c.status === 'true').length;

            document.getElementById('total-claims').textContent = total;
            document.getElementById('false-claims').textContent = falseClaims;
            document.getElementById('pending-claims').textContent = pending;
            document.getElementById('true-claims').textContent = trueClaims;
        }

        // Filter claims
        function filterClaims() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            const statusFilter = document.getElementById('status-filter').value;
            const categoryFilter = document.getElementById('category-filter').value;

            let filtered = claimsData.filter(claim => {
                const matchesSearch = 
                    claim.person.toLowerCase().includes(searchTerm) ||
                    claim.organization.toLowerCase().includes(searchTerm) ||
                    claim.claim.toLowerCase().includes(searchTerm);
                
                const matchesStatus = statusFilter === 'all' || claim.status === statusFilter;
                const matchesCategory = categoryFilter === 'all' || claim.category === categoryFilter;

                return matchesSearch && matchesStatus && matchesCategory;
            });

            renderClaims(filtered);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderClaims(claimsData);
            updateStats(claimsData);
            renderHallOfShame();

            // Event listeners
            document.getElementById('search-input').addEventListener('input', filterClaims);
            document.getElementById('status-filter').addEventListener('change', filterClaims);
            document.getElementById('category-filter').addEventListener('change', filterClaims);

            // Update countdowns every minute
            setInterval(() => {
                filterClaims();
            }, 60000);
        });
    </script>
</body>
</html>
